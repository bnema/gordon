import{c as G,a as v,t as D}from"../chunks/hjxannYT.js";import{p as aa,f as O,a as ta,n as ea,c as t,r as e,s as n,t as U,g as d,d as l}from"../chunks/IamVTuIH.js";import{d as ra,s as W}from"../chunks/B6lgKlq1.js";import{i as z}from"../chunks/DoUQLM7o.js";import{s as sa}from"../chunks/9RL9MBmM.js";import{s as c,a as p}from"../chunks/CwDGzTCp.js";import{s as ia,a as na}from"../chunks/AsPmzZT3.js";import{p as da}from"../chunks/x51A4OOI.js";import{g as B}from"../chunks/5dTWOFJr.js";async function oa(y,a){try{console.debug("Sending logout request");const r=await fetch(`${a.data.adminPath}/logout`,{method:"POST",headers:{"Content-Type":"application/json"}});r.redirected?window.location.href=r.url:B(`${a.data.adminPath}/login`)}catch(r){console.error("Error during logout:",r),B(`${a.data.adminPath}/login`)}}var ma=D('<div class="relative ml-3"><div class="flex items-center"><span class="mr-2 text-sm text-gray-700"> </span> <button class="rounded-md bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50">Logout</button></div></div>'),va=D('<div class="min-h-screen bg-gray-100"><nav class="bg-white shadow-sm"><div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"><div class="flex h-16 justify-between"><div class="flex"><div class="flex flex-shrink-0 items-center"><a class="text-xl font-bold text-gray-900">Gordon Admin</a></div> <div class="hidden sm:ml-6 sm:flex sm:space-x-8"><a>Containers</a> <a>Images</a> <a>Stacks</a></div></div> <div class="hidden sm:ml-6 sm:flex sm:items-center"><div class="flex items-center"><!></div></div></div></div></nav> <main class="py-10"><div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"> </div></main></div>');function pa(y,a){aa(a,!0);const[r,F]=ia(),P=()=>na(da,"$page",r),g=l(()=>P().url.pathname),H=l(()=>d(g).includes(`${a.data.adminPath}/containers`)),J=l(()=>d(g).includes(`${a.data.adminPath}/images`)),K=l(()=>d(g).includes(`${a.data.adminPath}/stacks`));var w=G(),M=O(w);{var N=s=>{var i=G(),o=O(i);sa(o,()=>a.children??ea),v(s,i)},Q=s=>{var i=va(),o=t(i),k=t(o),A=t(k),x=t(A),f=t(x),R=t(f);e(f);var S=n(f,2),h=t(S),u=n(h,2),C=n(u,2);e(S),e(x);var j=n(x,2),I=t(j),V=t(I);{var X=m=>{var _=ma(),q=t(_),b=t(q),Z=t(b,!0);e(b);var $=n(b,2);$.__click=[oa,a],e(q),e(_),U(()=>{var E;return W(Z,((E=a.data.user)==null?void 0:E.username)||"User")}),v(m,_)};z(V,m=>{a.data.user&&m(X)})}e(I),e(j),e(A),e(k),e(o);var L=n(o,2),T=t(L),Y=t(T,!0);e(T),e(L),e(i),U(m=>{c(R,"href",a.data.adminPath),c(h,"href",`${a.data.adminPath??""}/containers`),p(h,1,`inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium ${(d(H)?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700")??""}`),c(u,"href",`${a.data.adminPath??""}/images`),p(u,1,`inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium ${(d(J)?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700")??""}`),c(C,"href",`${a.data.adminPath??""}/stacks`),p(C,1,`inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium ${(d(K)?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700")??""}`),W(Y,m)},[()=>a.children()]),v(s,i)};z(M,s=>{P().url.pathname.startsWith(`${a.data.adminPath}/login`)?s(N):s(Q,!1)})}v(y,w),ta(),F()}ra(["click"]);export{pa as component};
