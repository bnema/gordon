# Gordon v2 Configuration (YAML format)
# Complete example with registry domain routing via Cloudflare

server:
  port: 8080                              # Main proxy port
  registry_port: 5000                     # Internal registry port  
  registry_domain: "registry.example.com" # Registry subdomain (NEW!)
  runtime: docker                         # Container runtime
  ssl_email: admin@example.com            # Your email for future SSL features
  data_dir: ./data                        # Data storage directory

registry_auth:
  enabled: true                           # Enable registry authentication
  username: admin                         # Registry username
  password: your-secure-password-123      # Registry password (change this!)

# Domain to container image mapping
# When you push an image matching these routes, Gordon auto-deploys
routes:
  "app.example.com": "myapp:latest"       # Main application
  "api.example.com": "myapi:v2.1.0"       # API service with version
  "blog.example.com": "wordpress:latest"  # Blog/CMS
  "staging.example.com": "myapp:staging"  # Staging environment

# Cloudflare DNS Setup:
# A    app.example.com      â†’ YOUR_SERVER_IP
# A    api.example.com      â†’ YOUR_SERVER_IP
# A    blog.example.com     â†’ YOUR_SERVER_IP  
# A    staging.example.com  â†’ YOUR_SERVER_IP
# A    registry.example.com â†’ YOUR_SERVER_IP

# Docker workflow:
# docker tag myapp:latest registry.example.com/myapp:latest
# docker push registry.example.com/myapp:latest
# â†’ Gordon automatically deploys to app.example.com! ðŸš€